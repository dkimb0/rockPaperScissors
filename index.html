<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //function getComputerChoice, randomly selects R, P or S
        function getComputerChoice() {
            //Make random number between 1 and 3
            let comNumChoice = Math.floor(Math.random() * 3) + 1;
            //for each number, set R, P or S
            if (comNumChoice === 1) {
                return 'Rock';
            } else if (comNumChoice === 2) {
                return 'Paper';
            } else {
                return 'Scissors';
            }
        }


        //function playRound, logic block to determine winner of each round
        function playRound(compSel, playerSel) {
            //set case insensitivity by setting playerSel to same format as compSel
            let playSelCaseInsen = playerSel.charAt(0).toUpperCase() + playerSel.slice(1).toLowerCase();

            //comparative block to compare comp to player selections
            //block 1: if compSel === playerSel, draw
            //block 2: player wins
            //block 3: else, comp wins
            if (compSel === playSelCaseInsen) {
                console.log('Draw!')
                return "d";
            } else if ((compSel === 'Rock' && playSelCaseInsen === 'Paper')
                || (compSel === 'Paper' && playSelCaseInsen === 'Scissors')
                || (compSel === 'Scissors' && playSelCaseInsen === 'Rock')){
                console.log(`You win! ${playSelCaseInsen} beats ${compSel}`);
                return "w";
            } else {
                console.log(`You lose! ${compSel} beats ${playSelCaseInsen}`);
                return "l";
            }
        }
        

        //function game(), runs 5 times and counts wins/losses
        function game() {
            //initialize wincount:
            let winCount = 0;
            let loseCount = 0;
            for (i = 0; i < 5; i++) {            
                //initialize round values
                let compSel = getComputerChoice();
                let playerSel = prompt('Enter your choice (default is Rock):');
                
                //run playRound
                let currentRound = playRound(compSel, playerSel);
                
                //count
                if (currentRound === "w") {
                    ++winCount;
                } else if (currentRound === "l") {
                    ++loseCount;
                }
            }
            announceWinner(winCount, loseCount);
            
        }


        //function announces win/loss
        function announceWinner(winCount, loseCount) {
            if (winCount === loseCount){
                console.log(`Draw! ${winCount} to ${loseCount}`);
            } else if (winCount > loseCount){
                console.log(`You win ${winCount} to ${loseCount}!`);
            } else {
                console.log(`You lost ${winCount} to ${loseCount}!`);
            }
        }

        //run game function
        game();
    </script>
</body>
</html>